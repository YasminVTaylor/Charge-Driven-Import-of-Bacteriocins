# Charge-Driven-Import-of-Bacteriocins

## CPPTraj
prerequisite:
To run the scripts cpptraj from AmberTools must be installed on the local machine

### RMSD
This script uses cpptraj to calculate the RMSD of a protein from a trajectory. 
The topology file is loaded using the command 'parm'. 
Each of the trajectory output files are loaded using the command 'trajin'. 
The command 'rms' is used to specify that the RMSD is to be calculated. 
A mask is created which specifies the residues and atoms to include within the calculation.
The mask can be changed to accomodate labile or non labile residues
An output file is create using the command 'out' followed by a file name. 
The 'norotate' command prevents co-ordinates from rotating which may otherwise give false results.

The script can be run using the command:
cpptraj<cpptraj_rmsd 

### RMSF
This script uses cpptraj to calculate the RMSF of a protein from a trajectory. 
The command 'atomicfluct' is used to specify that the RMSF is to be calculated. 
A mask is created which specifies the residues and atoms to include within the calculation. 
An output file is create using the command 'out' followed by a file name. 
The 'byres' command specifies that the RMSF is calculaded by residue and not by atom.

The script can be run using the command:
cpptraj<cpptraj_rmsf

### Distance 
This script uses cpptraj to calculate the distance of a selection of residues from a different selection of residues. 
The command 'distance' is used to specify that distance measurements are to be calculated. 
The name of the mask is specified e.g. distance 185
A mask is created which specifies the residues and atoms to include within the calculation. 
An output file is create using the command 'out' followed by a file name. 
When the same file name is used for each distance measurment
the results are appended to the same file in separate columns 

The script can be run using the command:
cpptraj<cpptraj_distance

## Electrostatic Potential

prerequiste: 
Pandas, matplotlib, numpy, bio, mdtraj

This script calculates the physiological isoelectric point (pI) and the APBS electrostatics of the pores for each of the TBDTs which had been returned by the PSI-BLAST search.
### pI calculation:
Each TBDT was aligned along the Z-axis using PyMOL. The difference in solvent accessible surface area (SASA) between the structures with and without the labile subdomain was calculated at a residue level using MDAnalysis. The unplugged protein was then sliced along the Z-axis into 12Å-height regions (parameter run_avg in the script), with a shift of 2.5Å (parameter shift). Within each region, the pI was calculated using a function implemented in the library Biopython which considers the subset of residues showing a percentage change in SASA higher than 20% (parameter threshold) upon the removal of the plug. The implemented script returns the average Z and the pI of each sliced region. 

### Electrostatics calculation:
Electrostatics calculations were performed using APBS (Adaptive Poisson-Boltzmann Solver). PDB2PQR converts the PDB files of the unplugged TBDTs into PQR files (the Amber force field is used). APBS returns the electrostatic potential calculated at the nodes of a 3D grid, where each cell is a cube with a spacing of ~0.5 Å. The nearest neighbour interpolation implemented in the Scipy library was used to interpolate the electrostatic potential along the pore. The coordinates of the pore were defined using ChexViS, an online tool that determines transmembrane pores (Masood et al., 2015) availabile at http://vgl.serc.iisc.ernet.in/chexvis/. The implemented script replaces the β-factors in the PDB of the pore generated by ChexVis with the value of the interpolated electrostatic potential.  

To run this script:
python3 pore_mde.py (protein name)_(PDB identifyer)
e.g. python3 pore_mde.py FpvAI_5ODW
 
## Graphs 

Pandas, Numpy and Matplotlib must be installed in local environment. 
The file name is specified to load the data.
The title, x and y axis titles can be adjucted accordingly. 
The line colour, width and lable can be spcified following 'plt.plot'.
The y limitation can be removed or adjusted to fit the data range. 
The figure file name can be adjusted to suit the user.

The distance graph code skip the first row as this row contained headers
and not numerical data

Graph files; RSMD, RMSF and distance are complementary to the data
outputted from the CPPTraj scripts.

Graph files; electrostatic potential +(notscaled), and pI are
complementary to the data outputted from pore_mde.py

